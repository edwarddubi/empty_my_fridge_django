<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <title>Personal Recipes Page</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.4.1/semantic.min.css"
    />
  </head>
  <body>
    {% csrf_token %}
    <!--Navigation Bar-->
    <div class="ui pointing inverted top fixed menu">
      <div class="item">
        <h3>Empty My Fridge</h3>
      </div>

      <a onclick="location.href={% url 'home'%}" class="item">
        Home
      </a>
      <a class="item">
        Recipes
      </a>
      <div class="ui link dropdown simple item">
        <span class="text">Browse</span>
        <i class="dropdown icon"></i>
        <div class="menu inverted">
          <div class="item">Pastries</div>
          <div class="item">Meals</div>
          <div class="item">Appetizers</div>
          <div class="item">Dessert</div>
        </div>
      </div>

      <div class="item">
        <div class="ui icon input">
          <input type="text" placeholder="Search for recipes..." />
          <i class="search icon"></i>
        </div>
      </div>
      <div class="right menu">
        <div onclick="location.href={% url 'profile'%}" class="item active">
          <img
            id="image_profile"
            class="ui avatar image mini"
            src="{{data.image}}"
          />
          <p id="hi_name">{{data.name}}</p>
        </div>
        <a onclick="location.href={% url 'logout'%}" class="item">
          Logout
        </a>
      </div>
    </div>
    <!--End of Navigation Bar-->

    <!--Profile Image-->

    <div class="ui segment inverted">
      <div style="margin-top: 70px; display: inline-flex;">
        <img id="user_image" class="ui avatar image small" src="{{data.image}}">
        <div style="margin-left: 5px;  margin-top: 15%;">
          <h2 style="color: bisque; ">{{data.name}} </h2>
        </div>
        
      </div>

    </div>

    <!--Container-->

    <div class="ui container" style="margin-top: 20px; margin-bottom: 250px;">

      <div class="ui pointing menu">
        <a onclick="location.href={% url 'profile'%}" class="item">
          About Me
        </a>
        <a class="item">
          Friends
        </a>
        <a class="item">
          My Favorite Recipes
        </a>
        <a class="active item">
          Personal Recipes
        </a>
        
        <div class="right menu">
          <a class="item">
            Edit Profile
          </a>
          <a onclick="location.href={% url 'account_settings'%}" class="item">
            Account Settings
          </a>
        </div>
      </div>

      <div style="margin-bottom: 50px;" class="ui raised segment">
        <form action="/personal_recipes/" method="post" class="ui form">
          <div style="width: 30%;" class="field">
            <label>Title of Recipe</label>
            <input placeholder="Title of Recipe" required name="title" type="text">
          </div>

          <div style="width: 30%;" class="field">
            <label>Description</label>
            <input rows="3" placeholder="Description of Recipe" type="text" name="description">
          </div>
          
          <div style="width: 30%;" class="field">
            <label>Steps: </label>
            <input placeholder="How to make the recipe" name="steps" type="text">
          </div>

          <span class="myfridge_list_holder">
          <div style="width: 30%;" class="field">
          <label>Add Ingredients</label>
          </div>

          <div class="search-container">
            <form>
              <input
                type="text"
                placeholder="Search.."
                name="search_ingredients"
                id="search"
              />
            <button class ="ui button blue" type="submit">Search</button>
            </form>
          </div>
          </span>

          <!-- CENTER BUTTON HOR and VERT-->
          <style>
            .container {
              height: 200px;
              position: relative;
              border: 3px solid green;
            }
            
            .vertical-center {
              margin: 0;
              position: absolute;
              top: 50%;
              -ms-transform: translateY(-50%);
              transform: translateY(-50%);
            }
            </style>
          <div class="ui grid">
            <div class="two wide column" style="width: 30%;" class="field">
              <label>Found Ingredients</label>
              <textarea rows="8" placeholder="[Ingredients found listed here]" name="found"></textarea>
            </div>
            <div class="two wide column" style="width: 30%;">
              
          <!-- ADD TO RECIPE BUTTON-->
          <div class="vertical-center">
            <ul class="">
              <form method="post">
                <button class="ui button green" type="submit">Add to Recipe -></button>
                {% for food in ingredients %}
                <input type="checkbox" name="sav_ing" value="{{food}}" />
                <label> {{food}}</label><br />
                {% endfor %}
              </form>
            </ul>
          <!-- REMOVE FROM RECIPE BUTTON
          <div class="vertical-center">
            <ul class="">
              <form method="post">
                <button class="ui button red" type="submit"><- Remove from Recipe</button>
                {% for food in ingredients %}
                <input type="checkbox" name="remove_ing" value="{{food}}" />
                <label> {{food}}</label><br />
                {% endfor %}
              </form>
            </ul> -->


        </div>
            </div>
            <div class="two wide column" style="width: 30%;" class="field">
              <label>Added to Recipe</label>
              <textarea rows="8" placeholder="[Ingredients currently in recipe listed here]" name="added"></textarea>
            </div>
          </div>
         

          <!--dropdown w/out javascript-->
          <div class="ui compact menu">
            <div class="ui simple dropdown item">
              Privacy
              <i class="dropdown icon"></i>
              <div class="menu">
                <div class="item" data-value = "2">Public</div>
                <div class="item" data-value = "1">Friends Only</div>
                <div class="item" data-value = "0">Private</div>
              </div>
              <!--in python, assign data-value to another db attribute-->
            </div>
          </div>

          <button class="ui button yellow" type="submit">Save New Recipe</button>

        </form>
        <div style="display: none;" id="message" class="ui {{msg_type}} message">
          <div class="header">
            {{msg_type}}
          </div>
          <p>{{message}}</p>
        </div>
      </div>
      
    </div>

    {% if message %}
    <script>
      document.getElementById("message").style.display = "block";
    </script>
    {% endif %}

    {% if data %}
    <script>
      document.getElementById("user_image").src =
        "https://react.semantic-ui.com/images/avatar/large/matthew.png";
      document.getElementById("image_profile").src =
        "https://react.semantic-ui.com/images/avatar/large/matthew.png";
    </script>
    {% endif %}

    <!-- add code to list available personal recipes from database-->
  </body>
</html>